#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# Copyright (C) 2019 tribe29 GmbH - License: GNU General Public License v2
# This file is part of Checkmk (https://checkmk.com). It is subject to the terms and
# conditions defined in the file COPYING, which is part of this source code package.

# yapf: disable
# type: ignore



checkname = 'heartbeat_crm'


freeze_time = '2019-04-11 12:38:36'


info = [['Stack:', 'corosync'],
        ['Current',
         'DC:',
         'hrssc61i02',
         '(version',
         '1.1.19+20180928.0d2680780-1.8-1.1.19+20180928.0d2680780)',
         '-',
         'partition',
         'with',
         'quorum'],
        ['Last', 'updated:', 'Mon', 'Mar', '11', '14:17:33', '2019'],
        ['Last',
         'change:',
         'Thu',
         'Feb',
         '28',
         '17:40:07',
         '2019',
         'by',
         'hacluster',
         'via',
         'cibadmin',
         'on',
         'hrssc61i01'],
        ['2', 'nodes', 'configured'],
        ['10', 'resources', 'configured'],
        ['Online:', '[', 'hrssc61i01', 'hrssc61i02', ']'],
        ['Full', 'list', 'of', 'resources:'],
        ['Resource', 'Group:', 'grp_IFG_ASCS22'],
        ['_',
         'rsc_ip_IFG_ASCS22',
         '(ocf::heartbeat:IPaddr2):',
         'Started',
         'hrssc61i01'],
        ['_',
         'rsc_sap_IFG_ASCS22',
         '(ocf::heartbeat:SAPInstance):',
         'Started',
         'hrssc61i01'],
        ['Resource', 'Group:', 'grp_IFG_ERS23'],
        ['_',
         'rsc_ip_IFG_ERS23',
         '(ocf::heartbeat:IPaddr2):',
         'Started',
         'hrssc61i02'],
        ['_',
         'rsc_sap_IFG_ERS23',
         '(ocf::heartbeat:SAPInstance):',
         'Started',
         'hrssc61i02'],
        ['Clone', 'Set:', 'clone_nfs_sapmnt_IFG', '[nfs_sapmnt_IFG]'],
        ['_', 'Started:', '[', 'hrssc61i01', 'hrssc61i02', ']'],
        ['Clone', 'Set:', 'clone_nfs_usr_sap_IFG', '[nfs_usr_sap_IFG]'],
        ['_', 'Started:', '[', 'hrssc61i01', 'hrssc61i02', ']'],
        ['st-vmware', '(stonith:fence_vmware_rest):', 'Started', 'hrssc61i02'],
        ['st-vmware2', '(stonith:fence_vmware_rest):', 'Started', 'hrssc61i01'],
        ['Failed', 'Resource', 'Actions:'],
        ['*',
         'st-vmware_monitor_20000',
         'on',
         'hrssc61i02',
         "'unknown",
         "error'",
         '(1):',
         'call=43,',
         'status=Error,',
         "exitreason='',"],
        ['_',
         "last-rc-change='Mon",
         'Mar',
         '4',
         '09:29:54',
         "2019',",
         'queued=0ms,',
         'exec=11096ms'],
        ['*',
         'st-vmware2_monitor_20000',
         'on',
         'hrssc61i01',
         "'unknown",
         "error'",
         '(1):',
         'call=43,',
         'status=Error,',
         "exitreason='',"],
        ['_',
         "last-rc-change='Mon",
         'Mar',
         '4',
         '09:29:54',
         "2019',",
         'queued=0ms,',
         'exec=11088ms']]


discovery = {'': [(None, {'num_nodes': 2, 'num_resources': 10})],
             'resources': [('clone_nfs_sapmnt_IFG', None),
                           ('clone_nfs_usr_sap_IFG', None),
                           ('grp_IFG_ASCS22', None),
                           ('grp_IFG_ERS23', None),
                           ('st-vmware', None),
                           ('st-vmware2', None)]}


checks = {'': [(None,
                {'max_age': 60, 'num_nodes': 2, 'num_resources': 10},
                [(2, 'Ignoring reported data (Status output too old: 31 d)', [])])],
          'resources': [('clone_nfs_sapmnt_IFG',
                         {},
                         [(0,
                           "clone_nfs_sapmnt_IFG Clone Started hrssc61i01, hrssc61i02",
                           [])]),
                        ('clone_nfs_usr_sap_IFG',
                         {},
                         [(0,
                           "clone_nfs_usr_sap_IFG Clone Started hrssc61i01, hrssc61i02",
                           [])]),
                        ('grp_IFG_ASCS22',
                         {},
                         [(0,
                           'rsc_ip_IFG_ASCS22 (ocf::heartbeat:IPaddr2): Started hrssc61i01',
                           []),
                          (0,
                           'rsc_sap_IFG_ASCS22 (ocf::heartbeat:SAPInstance): Started hrssc61i01',
                           [])
                          ]),
                        ('grp_IFG_ERS23',
                         {},
                         [(0,
                           'rsc_ip_IFG_ERS23 (ocf::heartbeat:IPaddr2): Started hrssc61i02',
                           []),
                          (0,
                           'rsc_sap_IFG_ERS23 (ocf::heartbeat:SAPInstance): Started hrssc61i02',
                           [])]),
                        ('st-vmware',
                         {},
                         [(0,
                           'st-vmware (stonith:fence_vmware_rest): Started hrssc61i02',
                           [])]),
                        ('st-vmware2',
                         {},
                         [(0,
                           'st-vmware2 (stonith:fence_vmware_rest): Started hrssc61i01',
                           [])])]}
